# –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –ø—Ä–µ–¥–ª–æ–∂–∫–∏ –º–µ–º–æ–≤

## –û–ø–∏—Å–∞–Ω–∏–µ

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –ø—Ä–µ–¥–ª–∞–≥–∞—Ç—å –º–µ–º—ã —á–µ—Ä–µ–∑ –±–æ—Ç–∞, –∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –º–æ–∂–µ—Ç –æ–¥–æ–±—Ä—è—Ç—å –∏–ª–∏ –æ—Ç–∫–ª–æ–Ω—è—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

1. **–ö–æ–º–∞–Ω–¥–∞ `/suggest_mem`** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –º–µ–º
2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ** - —Ñ–æ—Ç–æ/–≤–∏–¥–µ–æ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∫–∞–∫ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
3. **–ú–æ–¥–µ—Ä–∞—Ü–∏—è –≤ –∞–¥–º–∏–Ω–∫–µ** - –∞–¥–º–∏–Ω –º–æ–∂–µ—Ç –æ–¥–æ–±—Ä–∏—Ç—å –∏–ª–∏ –æ—Ç–∫–ª–æ–Ω–∏—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
4. **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** - –∞–¥–º–∏–Ω –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è—Ö
5. **–ó–∞—â–∏—Ç–∞ –æ—Ç —Å–ø–∞–º–∞** - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ 5 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –≤ —á–∞—Å –æ—Ç –æ–¥–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

## –ß—Ç–æ –±—ã–ª–æ —Å–æ–∑–¥–∞–Ω–æ

### 1. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

- **–ú–∏–≥—Ä–∞—Ü–∏—è**: `database/migrations/2026_01_14_072241_create_meme_suggestions_table.php`
- **–¢–∞–±–ª–∏—Ü–∞ `meme_suggestions`**:
  - `id` - ID –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
  - `user_id` - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è Telegram
  - `username` - Username –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - `first_name` - –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - `media_type` - –¢–∏–ø –º–µ–¥–∏–∞ ('photo' –∏–ª–∏ 'video')
  - `media_url` - URL –∏–ª–∏ –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É (–∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –æ–¥–æ–±—Ä–µ–Ω–∏–∏)
  - `file_id` - Telegram file_id
  - `status` - –°—Ç–∞—Ç—É—Å ('pending', 'approved', 'rejected')
  - `admin_comment` - –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∞–¥–º–∏–Ω–∞ –ø—Ä–∏ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–∏
  - `reviewed_by` - ID –∞–¥–º–∏–Ω–∞, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–ª
  - `reviewed_at` - –í—Ä–µ–º—è —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏—è
  - `created_at`, `updated_at` - –í—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏

### 2. –ú–æ–¥–µ–ª—å

- **–§–∞–π–ª**: `app/Models/MemeSuggestion.php`
- –ú–µ—Ç–æ–¥—ã:
  - `getPending()` - –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ –æ–∂–∏–¥–∞—é—â–∏–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
  - `getPendingCount()` - –ø–æ–ª—É—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–∂–∏–¥–∞—é—â–∏—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π

### 3. –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä

- **–§–∞–π–ª**: `app/Http/Controllers/Admin/MemeSuggestionsController.php`
- –ú–µ—Ç–æ–¥—ã:
  - `index()` - —Å–ø–∏—Å–æ–∫ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π
  - `show()` - –ø—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
  - `approve()` - –æ–¥–æ–±—Ä–∏—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ (—Å–∫–∞—á–∏–≤–∞–µ—Ç —Ñ–∞–π–ª, —Å–æ–∑–¥–∞–µ—Ç –º–µ–º)
  - `reject()` - –æ—Ç–∫–ª–æ–Ω–∏—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ

### 4. Views

- `resources/views/admin/meme-suggestions/index.blade.php` - —Å–ø–∏—Å–æ–∫ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π
- `resources/views/admin/meme-suggestions/show.blade.php` - –ø—Ä–æ—Å–º–æ—Ç—Ä –∏ –º–æ–¥–µ—Ä–∞—Ü–∏—è –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è

### 5. –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥

- **–§–∞–π–ª**: `app/Http/Controllers/TelegramWebhookController.php`
- –ú–µ—Ç–æ–¥—ã:
  - `handleSuggestMemCommand()` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥—ã `/suggest_mem`
  - `handleMemeSuggestion()` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ç–æ/–≤–∏–¥–µ–æ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  - `notifyAdminAboutNewSuggestion()` - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∞

### 6. Telegram Service

- **–§–∞–π–ª**: `app/Services/TelegramService.php`
- –ú–µ—Ç–æ–¥ `getFile()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ñ–∞–π–ª–µ –ø–æ file_id (–ø—É–±–ª–∏—á–Ω—ã–π)

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

1. –ù–∞–ø–∏—Å–∞—Ç—å `/suggest_mem` –∏–ª–∏ `/–ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å_–º–µ–º` –≤ –≥—Ä—É–ø–ø–µ
2. –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ñ–æ—Ç–æ –∏–ª–∏ –≤–∏–¥–µ–æ
3. –ü–æ–ª—É—á–∏—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ –ø—Ä–∏–Ω—è—Ç–∏–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
4. –ü–æ–ª—É—á–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± –æ–¥–æ–±—Ä–µ–Ω–∏–∏/–æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–∏

### –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

1. –ü–æ–ª—É—á–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram –æ –Ω–æ–≤–æ–º –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–∏
2. –ü–µ—Ä–µ–π—Ç–∏ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å ‚Üí "üì• –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –º–µ–º–æ–≤"
3. –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ
4. –û–¥–æ–±—Ä–∏—Ç—å (—Å —É–∫–∞–∑–∞–Ω–∏–µ–º –Ω–∞–∑–≤–∞–Ω–∏—è) –∏–ª–∏ –æ—Ç–∫–ª–æ–Ω–∏—Ç—å (—Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–º)

## –ü—Ä–æ—Ü–µ—Å—Å –æ–¥–æ–±—Ä–µ–Ω–∏—è

–ü—Ä–∏ –æ–¥–æ–±—Ä–µ–Ω–∏–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è:
1. –§–∞–π–ª —Å–∫–∞—á–∏–≤–∞–µ—Ç—Å—è –∏–∑ Telegram –ø–æ `file_id`
2. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –≤ `storage/app/public/memes/`
3. –°–æ–∑–¥–∞–µ—Ç—Å—è –∑–∞–ø–∏—Å—å –≤ —Ç–∞–±–ª–∏—Ü–µ `memes`
4. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± –æ–¥–æ–±—Ä–µ–Ω–∏–∏

## –ó–∞—â–∏—Ç–∞ –æ—Ç —Å–ø–∞–º–∞

- –ú–∞–∫—Å–∏–º—É–º 5 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –≤ —á–∞—Å –æ—Ç –æ–¥–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ü—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ

## –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é**: –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–æ–ª—É—á–µ–Ω–∏—è –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± –æ–¥–æ–±—Ä–µ–Ω–∏–∏/–æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–∏
- **–ê–¥–º–∏–Ω—É**: —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –Ω–æ–≤–æ–º –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–∏ —Å –ø—Ä–µ–≤—å—é –º–µ–º–∞

## –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

- `/suggest_mem` –∏–ª–∏ `/–ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å_–º–µ–º` - –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –º–µ–º
- `/mem` - –ø–æ–ª—É—á–∏—Ç—å —Å–ª—É—á–∞–π–Ω—ã–π –º–µ–º (—Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è –∫–æ–º–∞–Ω–¥–∞)

## –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã

1. `database/migrations/2026_01_14_072241_create_meme_suggestions_table.php` (–ù–û–í–´–ô)
2. `app/Models/MemeSuggestion.php` (–ù–û–í–´–ô)
3. `app/Http/Controllers/Admin/MemeSuggestionsController.php` (–ù–û–í–´–ô)
4. `app/Http/Controllers/TelegramWebhookController.php` (–æ–±–Ω–æ–≤–ª–µ–Ω)
5. `app/Services/TelegramService.php` (–æ–±–Ω–æ–≤–ª–µ–Ω - –º–µ—Ç–æ–¥ `getFile()` –ø—É–±–ª–∏—á–Ω—ã–π)
6. `routes/web.php` (–æ–±–Ω–æ–≤–ª–µ–Ω)
7. `resources/views/admin/layout.blade.php` (–æ–±–Ω–æ–≤–ª–µ–Ω - –¥–æ–±–∞–≤–ª–µ–Ω–∞ —Å—Å—ã–ª–∫–∞ –≤ –º–µ–Ω—é)
8. `resources/views/admin/meme-suggestions/index.blade.php` (–ù–û–í–´–ô)
9. `resources/views/admin/meme-suggestions/show.blade.php` (–ù–û–í–´–ô)

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –í—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é

```bash
php artisan migrate
```

### 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É

1. –ù–∞–ø–∏—Å–∞—Ç—å `/suggest_mem` –≤ –≥—Ä—É–ø–ø–µ
2. –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ñ–æ—Ç–æ/–≤–∏–¥–µ–æ
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
4. –û–¥–æ–±—Ä–∏—Ç—å –∏–ª–∏ –æ—Ç–∫–ª–æ–Ω–∏—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ

# –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –º–µ–º–æ–≤

## –û–ø–∏—Å–∞–Ω–∏–µ

–î–æ–±–∞–≤–ª–µ–Ω —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –º–µ–º–æ–≤ –≤ –≥—Ä—É–ø–ø—ã —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É `/mem`. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã –º–æ–≥—É—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –º–µ–º–∞–º–∏ —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

1. **–ö–æ–º–∞–Ω–¥–∞ `/mem` –≤ –≥—Ä—É–ø–ø–µ** - –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–ª—É—á–∞–π–Ω—ã–π –∞–∫—Ç–∏–≤–Ω—ã–π –º–µ–º
2. **–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–µ–º–∞–º–∏ (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ)
3. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Telegram `file_id` –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏
4. **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–æ—Ç–æ –∏ –≤–∏–¥–µ–æ** - –º–æ–∂–Ω–æ –∑–∞–≥—Ä—É–∂–∞—Ç—å –∫–∞–∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, —Ç–∞–∫ –∏ –≤–∏–¥–µ–æ

## –ß—Ç–æ –±—ã–ª–æ —Å–æ–∑–¥–∞–Ω–æ

### 1. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

- **–ú–∏–≥—Ä–∞—Ü–∏—è**: `database/migrations/2026_01_14_071550_create_memes_table.php`
- **–¢–∞–±–ª–∏—Ü–∞ `memes`**:
  - `id` - ID –º–µ–º–∞
  - `title` - –ù–∞–∑–≤–∞–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  - `media_type` - –¢–∏–ø –º–µ–¥–∏–∞ ('photo' –∏–ª–∏ 'video')
  - `media_url` - URL –∏–ª–∏ –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É
  - `file_id` - Telegram file_id –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
  - `is_active` - –ê–∫—Ç–∏–≤–µ–Ω –ª–∏ –º–µ–º
  - `created_at`, `updated_at` - –í—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏

### 2. –ú–æ–¥–µ–ª—å

- **–§–∞–π–ª**: `app/Models/Meme.php`
- –ú–µ—Ç–æ–¥ `getRandom()` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ª—É—á–∞–π–Ω–æ–≥–æ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –º–µ–º–∞

### 3. –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä

- **–§–∞–π–ª**: `app/Http/Controllers/Admin/MemesController.php`
- CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–µ–º–∞–º–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –≤ Telegram –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è `file_id`

### 4. Views

- `resources/views/admin/memes/index.blade.php` - —Å–ø–∏—Å–æ–∫ –º–µ–º–æ–≤
- `resources/views/admin/memes/create.blade.php` - —Å–æ–∑–¥–∞–Ω–∏–µ –º–µ–º–∞
- `resources/views/admin/memes/edit.blade.php` - —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ–º–∞

### 5. –ú–∞—Ä—à—Ä—É—Ç—ã

- –î–æ–±–∞–≤–ª–µ–Ω—ã –≤ `routes/web.php`:
  - `GET /admin/memes` - —Å–ø–∏—Å–æ–∫ –º–µ–º–æ–≤
  - `GET /admin/memes/create` - —Ñ–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è
  - `POST /admin/memes` - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–µ–º–∞
  - `GET /admin/memes/{id}/edit` - —Ñ–æ—Ä–º–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
  - `PUT /admin/memes/{id}` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–µ–º–∞
  - `DELETE /admin/memes/{id}` - —É–¥–∞–ª–µ–Ω–∏–µ –º–µ–º–∞

### 6. –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥—ã

- **–§–∞–π–ª**: `app/Http/Controllers/TelegramWebhookController.php`
- –ú–µ—Ç–æ–¥ `handleMemCommand()` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥—ã `/mem`
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–æ—Ç–æ –∏ –≤–∏–¥–µ–æ

### 7. Telegram Service

- **–§–∞–π–ª**: `app/Services/TelegramService.php`
- –ú–µ—Ç–æ–¥ `sendVideo()` - –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤–∏–¥–µ–æ
- –ú–µ—Ç–æ–¥ `sendVideoFile()` - –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤–∏–¥–µ–æ –∫–∞–∫ —Ñ–∞–π–ª–∞
- –û–±–Ω–æ–≤–ª–µ–Ω `sendPhoto()` - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –º–µ–º–æ–≤

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –í—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é

```bash
php artisan migrate
```

### 2. –°–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è –º–µ–º–æ–≤

```bash
mkdir -p storage/app/public/memes
chmod -R 775 storage/app/public/memes
```

### 3. –°–æ–∑–¥–∞—Ç—å —Å–∏–º–≤–æ–ª–∏—á–µ—Å–∫—É—é —Å—Å—ã–ª–∫—É (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —Å–æ–∑–¥–∞–Ω–∞)

```bash
php artisan storage:link
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –í –≥—Ä—É–ø–ø–µ Telegram

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –Ω–∞–ø–∏—Å–∞—Ç—å `/mem` –∏–ª–∏ `/–º–µ–º` –≤ –≥—Ä—É–ø–ø–µ, –∏ –±–æ—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç —Å–ª—É—á–∞–π–Ω—ã–π –∞–∫—Ç–∏–≤–Ω—ã–π –º–µ–º.

### –í –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

1. –ü–µ—Ä–µ–π—Ç–∏ –≤ —Ä–∞–∑–¥–µ–ª "üòÑ –ú–µ–º—ã" –≤ –º–µ–Ω—é
2. –ù–∞–∂–∞—Ç—å "+ –î–æ–±–∞–≤–∏—Ç—å –º–µ–º"
3. –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª (—Ñ–æ—Ç–æ –∏–ª–∏ –≤–∏–¥–µ–æ)
4. –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ —É–∫–∞–∑–∞—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ
5. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å

## –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

–ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –º–µ–º–∞ –≤ –∞–¥–º–∏–Ω–∫–µ:
1. –§–∞–π–ª —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –≤ `storage/app/public/memes/`
2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –≤ Telegram (–≤ —Ç–µ—Å—Ç–æ–≤—ã–π —á–∞—Ç)
3. –ü–æ–ª—É—á–∞–µ—Ç—Å—è `file_id` –æ—Ç Telegram
4. `file_id` —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ë–î

–ü—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –º–µ–º–∞ —á–µ—Ä–µ–∑ `/mem`:
1. –ï—Å–ª–∏ –µ—Å—Ç—å `file_id` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–Ω (–±—ã—Å—Ç—Ä–æ, –±–µ–∑ –∑–∞–≥—Ä—É–∑–∫–∏)
2. –ï—Å–ª–∏ –Ω–µ—Ç `file_id` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `media_url` (–∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞)

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

- **–†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–æ–≤**:
  - –§–æ—Ç–æ: –¥–æ 10MB
  - –í–∏–¥–µ–æ: –¥–æ 50MB
- **–§–æ—Ä–º–∞—Ç—ã**:
  - –§–æ—Ç–æ: JPEG, PNG, GIF, WebP
  - –í–∏–¥–µ–æ: MP4, AVI, MOV, MKV, WebM

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

1. –î–æ–±–∞–≤–∏—Ç—å –º–µ–º —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∫—É
2. –ù–∞–ø–∏—Å–∞—Ç—å `/mem` –≤ –≥—Ä—É–ø–ø–µ
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –º–µ–º –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏, —á—Ç–æ `file_id` —Å–æ—Ö—Ä–∞–Ω–µ–Ω

## –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã

1. `database/migrations/2026_01_14_071550_create_memes_table.php` (–ù–û–í–´–ô)
2. `app/Models/Meme.php` (–ù–û–í–´–ô)
3. `app/Http/Controllers/Admin/MemesController.php` (–ù–û–í–´–ô)
4. `app/Http/Controllers/TelegramWebhookController.php` (–æ–±–Ω–æ–≤–ª–µ–Ω)
5. `app/Services/TelegramService.php` (–æ–±–Ω–æ–≤–ª–µ–Ω)
6. `routes/web.php` (–æ–±–Ω–æ–≤–ª–µ–Ω)
7. `resources/views/admin/layout.blade.php` (–æ–±–Ω–æ–≤–ª–µ–Ω)
8. `resources/views/admin/memes/index.blade.php` (–ù–û–í–´–ô)
9. `resources/views/admin/memes/create.blade.php` (–ù–û–í–´–ô)
10. `resources/views/admin/memes/edit.blade.php` (–ù–û–í–´–ô)
